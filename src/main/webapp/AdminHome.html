<!DOCUMENT html>

<html id="main-html">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/global.css" />
		<link rel="stylesheet" type="text/css" href="css/HoverEffects.css" />
		<link rel="stylesheet" type="text/css" href="css/Spinner.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap-datepicker.css" />
		<link href="https://fonts.googleapis.com/css?family=Josefin+Slab" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Baloo+Bhaina" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Handlee" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Mada" rel="stylesheet">
		<link href="css/AdminHome.css" rel="stylesheet">

		<script type="text/javascript" src="js/bootstrap.js"></script>
		<script src="js/jquery-3.1.1.min.js"> </script>
		<script src="js/ManageTemplates.js"> </script>
		<script src="js/MiscelleniousFunc.js"> </script>
		<script src="js/AdminHome.js"> </script>
		<script src="https://use.fontawesome.com/2b35d850ab.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.js"></script>
		<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>	
		<script src="js/bootstrap-datepicker.js"></script>	
		
	</head>

	<body>
<!-- <img src="{{thumbnailUrl}}" style="width: 100%; height: 400px; max-height: 450px;"/> -->
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid" style="background-color: white; xcolor: black;box-shadow: 0 1px 4px 0 rgba(0,0,0,0.2),0 0px 10px 0 rgba(0,0,0,0.19)!important">
			<div class="container" style="margin-top: 15px; margin-bottom: 15px">			
				<div class="header row" style="xborder-bottom: 1px solid rgba(0,0,0,0.1);">
					<div class="col-xs-12">
						<div class="row header-row">
							<div class="col-xs-2 visible-xs" style="padding-top: 9px;">
								<i class="fa fa-bars" style="color: white;font-size: 25px;"> </i>
							</div>
							<div class="col-xs-5 col-sm-5" onclick="showHome();">
								<p class="visible-sm visible-md visible-lg cursor-pointer logo" style="xfont-family: 'Josefin Slab', serif;font-size: 3vh;font-weight: bold;margin-bottom: 0;"> 							
									<img src="img/camera-nikon-dslr-512.png" style="width: 50px; height: auto;" /><span style="vertical-align: -webkit-baseline-middle;">Magic Moments </span>
								</p>
								<p class="visible-xs" style="font-family: 'Josefin Slab', serif;xmargin-top: 27px;font-size: 4vh;font-weight: bold;margin-bottom: 0;color: white;"> 	
									M M 
								</p>
							</div>
							
							<div class="col-xs-5 col-sm-3 pull-right" style="padding-right: 0;width: auto;">
								<div class="options header-option pull-right" style="padding-right: 0;">
									<a href="#" class="btn btn-primary option-item" onclick="showDropdownOptions($(this))">
								  		<i class="fa fa-tasks" aria-hidden="true" style="font-size: 3vh;"></i>
								  		<div class="dropdown-option" style="display: none;"> 
								  			<div class="more-options">
									  			<div onclick="showCreateEventView()">Add event</div>
									  			<div onclick="">Orders</div>
									  		</div>	
								  		</div>
									</a>
									<a href="#" class="btn btn-primary option-item" onclick="showDropdownOptions($(this))" style="border-left: 1px solid; border-radius: 0; border-left-color: grey;">
								  		<i class="fa fa-user" aria-hidden="true" style="font-size: 3vh;"></i>
								  		<i class="fa fa-caret-down" aria-hidden="true" style="vertical-align: super;"></i>
								  		<div class="dropdown-option" style="display: none;"> 
								  			<div class="username"> Hi Ujjval, </div>
								  			<div class="more-options">
									  			<div>Profile</div>
									  			<div>Wishlist</div>
									  			<div>My orders</div>
									  			<div onclick="logout();">Logout </div>
									  		</div>	
								  		</div>
									</a>
								</div>										
							</div>	

							<div class="col-sm-12 col-sm-4 hidden-xs pull-right" style="">
								<div class="xpull-right" style="position: relative;padding-top: 4px;">
									<i class="fa fa-search" style="position: absolute;top: 15px; left: 14px;xcolor: black"> </i>
									<input type="text" name="" placeholder="Search events..." class="form-control search-box" style="font-size: 13px;border-radius: 5px;">
								</div>					
							</div>		
						</div>

						<div class="row">
							<div class="col-xs-12 hide xvisible-xs">
								<i class="fa fa-search" style="position: absolute;top: 15px; left: 25px;"> </i>
								<input type="text" class="form-control search-box" style="font-size: 20px;">
							</div>
						</div>
					</div>
					
					<!-- logo and header of page -->
				</div>
			</div>
		</div>	
	</nav>
		<div class="container" style="margin-top: 100px;">			
			<div class="main-container row admin-home-container">
				
			</div>
		</div>
		
		<div class="container" style="margin-top: 20px;">			
			<div class="main-container row">
				<div class="col-xs-12">
					<div class="row content-holder" id="content-loader" style="padding:10px;">						
							<!-- images will be shown here -->						
					</div>
				</div>
			</div>
		</div>
	</body>
</html>

	<script type="text/x-handlebar-template" id="admin-home">
		<div class="col-xs-12 page-header-text" style="padding-top: 10px;">
			<span class="text-muted">Welcome, {{email}}</span>
		</div>
		
		<div class="col-xs-12 page-header-text" style="padding-top: 10px;">
			<span class="text-muted">Total number of orders: {{totalOders}} worth Rs. {{totalAmount}}</span>
		</div>
		
		<div class="col-xs-12 page-header-text" style="padding-top: 10px;">
			<span class="text-muted">Total number of Events: {{totalEvents}}</span>
		</div>
	</script>
  <script type="text/x-handlebar-template" id="create-event">   
	<style>
		.content-loader{
			font-size: 16px;
		}
		.padding-bottom10{
			padding-bottom: 10px;
		}
		
		.padding-left5{
			padding-left: 5px;
		}

		.form-control{height: 45px;font-size:16px;letter-spacing:1px;}
		
		input[type=checkbox]{
			height: 20px;
			width: 20px;
		}
		
		.expandable-panel{
    		margin-bottom: 5px;
			 border-radius: 6px;
		}
	</style>
	<form action="admin/CreateEvents" method="POST" enctype="multipart/form-data" id="createEventForm" >
		<div class="panel panel-default create-event-parent">
	  		<div class="panel-heading">
	  			<div class="row">
					<div class="col-xs-12 page-header-text" style="padding-top: 10px;">
						<span class="text-muted">Create new event</span>
					</div>
				</div>
			</div>	
	  		<div class="panel-body">
	  			<div class="row" style="padding-top:10px;">
					<div class="col-xs-12 col-sm-6 col-md-4 padding-bottom10">
						<input type="text" class="form-control eventname" name="eventName" placeholder="Enter event name"/>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-4 padding-bottom10">
						<input type="text" class="form-control event-desc" placeholder="Provide some description about event..." name="eventDiscription"/>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-4 padding-bottom10">
						<div class="input-group date">
						    <input type="text" class="form-control start-date form_datetime" name="eventStartDate" placeholder="Select start date of event">
						    <div class="input-group-addon">
						        <span class="glyphicon glyphicon-th"></span>
						    </div>
						</div>
					</div>
				</div>		
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-4 padding-bottom10">
						<div class="input-group date">
						    <input class="form-control end-date form_datetime" size="16" type="text" value="" placeholder="Select end date of event" name="eventEndDate">
						    <div class="input-group-addon">
						        <span class="glyphicon glyphicon-th"></span>
						    </div>
						</div>
					</div>
				</div>		
				<div class="row">
					<div class="col-xs-12 col-sm-6 col-md-4 padding-bottom10">
						<div class="input-group date">
						    <input class="form-control validity-period form_datetime" type="text" value="" placeholder="Select validity date of event" name="validityPeriod">
						    <div class="input-group-addon">
						        <span class="glyphicon glyphicon-th"></span>
						    </div>
						</div>
					</div>
				</div>
				<div class="row" style="padding-top:10px;">
					<div class="col-xs-12 col-sm-6 col-md-4 padding-bottom10">
						<input type="text" class="form-control event-picture-folder-id" name="folderId" placeholder="Enter picture folder ID to link with event"/>
						<label style="padding: 5px;"> Provide ID of a folder you have created on google drive to link pictures to this event</label>
					</div>
				</div>		
				<div class="row">
					<div class="col-xs-8 col-sm-6 padding-bottom10">
						<select class="form-control college-list" onchange="showBranchesForSelectedCollege(this)" name="selectedCollege">
							{{#if allColleges}}
								<option value="-1"> Select college </option>	
								{{#each allColleges}}
									<option value="{{id}}"> {{name}} &nbsp&nbsp <span class="parenthesis"> {{abbreviation}} </span></option>
								{{/each}}	
							{{else}}
								<option value="-1"> No college available </option>	
							{{/if}}	
						</select>
					</div>	
					<div class="col-xs-12 col-sm-3 padding-bottom10">
						<input type="checkbox" class="showCollege" onchange="showPanel(('.college-panel'), this, [('.college-list'), ('.branch-list')])"/>
						<span class="padding-left5">Create new college</span>
					</div>
				</div>	
				<div class="panel panel-default college-panel" style="display: none;">
			  		<div class="panel-heading">
			  			<div class="row">
							<div class="col-xs-12"> <span class="text-muted">Create college panel</span></div>
						</div>	  
			 		</div>
				  	<div class="panel-body">
				  		<div class="row">
					  		<div class="col-xs-10 college-panel xexpandable-panel padding-bottom10 col-offset-xs-1" xstyle="display: none;">
								<div class="row" style="padding-top: 5px;">
									<div class="col-xs-12 col-sm-6 padding-bottom10">
										<input type="text" class="form-control college-name" placeholder="Enter college name"/>
									</div>
									<div class="col-xs-12 col-sm-6 padding-bottom10">
										<input type="text" class="form-control college-abbreviation" placeholder="Provide abbreviation for e.g. DU"/>
									</div>
								</div>
								<div class="row">
									<div class="col-xs-12 col-sm-6 padding-bottom10">
										<textarea rows="4" cols="50" class="form-control college-address" placeholder="Provide full college address here..." style="resize: none;"></textarea>
									</div>
									<div class="col-xs-12 col-sm-6 padding-bottom10">
										<input type="text" class="form-control pincode" placeholder="Enter pincode" maxlength="6"/>
									</div>
								</div>
								
								<div class="row">
									<div class="col-xs-12 col-sm-3 padding-bottom10">
										<input type="button" class="form-control reset-fields-button btn-success save-college" value="Save college" onclick="createCollege()"/>
									</div>
									<div class="col-xs-12 col-sm-3 padding-bottom10">
										<input type="button" class="form-control reset-fields-button btn-default cancel-create-college" value="Cancel" onclick="resetPanelData($('.college-panel'), $('.showCollege'), [$('select.college-list'), $('select.branch-list')])"/>
									</div>
								</div>
							</div>
				  		</div>
					</div>
				</div>	
		
				<div class="row">
					<div class="col-xs-8 col-sm-4 padding-bottom10">
						<select class="form-control branch-list disabled" name="selectedBranch">
							<option value="-1"> Select branch </option>
<!-- 							<option value="-1"> No department/branch available </option> -->
						</select>
					</div>	
					<div class="col-xs-12 col-sm-3 padding-bottom10">
						<input type="checkbox" onchange="showPanel(('.branch-panel'), this, ('.branch-list'))" class="show-branch-list-checkbox"/>
				  		<span class="padding-left5">Add new department/branch </span>
					</div>
				</div>
				
				<div class="panel panel-default branch-panel" style="display: none;">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-12 text-muted"">Create branch panel</div>
						</div>
					</div>
					<div class="panel-body">
						<div class="row">
							<div class="col-xs-10 branch-panel expandable-panel padding-bottom10 col-offset-xs-1">
								<div class="row" style="padding-top: 5px;">
									<div class="col-xs-12 col-sm-6 padding-bottom10">
										<input type="text" class="form-control branch-name" placeholder="Enter branch name"/>
									</div>
									<div class="col-xs-12 col-sm-6 padding-bottom10">
										<input type="text" class="form-control branch-abbreviation" placeholder="Provide abbreviation for e.g. CSE"/>
									</div>
								</div>
								
								<div class="row">
									<div class="col-xs-12 col-sm-3 padding-bottom10">
										<input type="button" class="form-control reset-fields-button btn-success save-branch" value="Save branch" onclick="createBranch()"/>
									</div>
									<div class="col-xs-12 col-sm-3 padding-bottom10">
										<input type="button" class="form-control reset-fields-button btn-default cancel-create-branch" value="Cancel" onclick="resetPanelData($('.branch-panel'), $('.show-branch-list-checkbox'), $('select.branch-list'))"/>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12 col-sm-3 padding-bottom10">
						<input type="checkbox" onchange="showPanel(('.import-invities-panel'), this)"/>
				  		<span class="padding-left5"> Import invities/students details? </span>
					</div>
				</div>
				
				<div class="panel panel-default import-invities-panel" style="display: none;">
					<div class="panel-heading">
						<div class="row">
							<div class="col-xs-12">
								Import invities/students details
							</div>
						</div>
					</div>
					<div class="panel-body">
						<div class="row">
							<div class="col-xs-9 padding-bottom10">
								<input type="text" class="form-control import-inviters" placeholder="Select excel/csv file to import data" disabled/>
							</div>		
							<div class="col-xs-3 padding-bottom10">
								<label for="importfile" type="button" class="form-control import-inviters-button btn btn-info">Import invities</label>
			  					<input type="file" xclass="sr-only" style="display:none;" id="importfile" xaccept=".xlsx, .csv" onchange="updateFilePath()" name="mf">
							</div>
						</div>
					</div>
				</div>
				
				<div class="row">	
					<div class="col-xs-7 col-sm-3 padding-bottom10">
						<input type="button" class="form-control create-event-button btn-success create-event" value="Create event" onclick="createEventM()" />
					</div>		
					<div class="col-xs-5 col-sm-3 padding-bottom10">
						<input type="button" class="form-control reset-fields-button btn-default reset-event" value="Reset" onclick="resetCreateEventFields()"/>
					</div>
				</div>			
	  		</div>
		</div>
	</form>
</script> 

<div class="spinner-main" style="width: 0;">
	<div class="spinner">
		<div class="double-bounce1"></div>
	 	<div class="double-bounce2"></div>
	</div>	
</div>
	